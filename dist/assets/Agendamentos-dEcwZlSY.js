import{c as C,a as y,j as e,C as N}from"./index-DUsq_Riq.js";import{u as v}from"./useMetricas-Ba6cMwWC.js";import{M as r}from"./MetricCard-Q9wNb3UI.js";import{a as h,c as B,b,M as z,C as g}from"./Card-BR_6SfcG.js";import{L as A}from"./LineChart-CJ5aN3k2.js";import{B as M,g as F,a as O}from"./ChartSetup-BuQPf8RP.js";import{f as s,d as n,e as w}from"./format-EFLfV7xb.js";import{C as E,a as D}from"./circle-x-Bw0lILRy.js";import{U as T}from"./user-x-By1RZyH-.js";const L=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],P=C("clock",L);function S({title:a,labels:c,datasets:t,height:i=300,stacked:x=!1}){const{theme:u}=y(),m=u==="dark",o=F(m),l=O(m),j={primary:o.primary,secondary:o.secondary,tertiary:o.tertiary,quaternary:o.quaternary},f={labels:c,datasets:t.map(d=>{const p=j[d.color||"primary"];return{label:d.label,data:d.data,backgroundColor:p+"CC",hoverBackgroundColor:p,borderRadius:6,borderSkipped:!1}})},k={...l,scales:{...l.scales,x:{...l.scales.x,stacked:x},y:{...l.scales.y,stacked:x}}};return e.jsxs(h,{children:[e.jsx(B,{children:e.jsx("h3",{className:"text-sm font-semibold text-[#2a2420] dark:text-[#F5F0EB]",children:a})}),e.jsx(b,{children:e.jsx("div",{style:{height:i},children:e.jsx(M,{data:f,options:k})})})]})}function $(){const{data:a,isLoading:c}=v();return c?e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-5 gap-4",children:Array.from({length:5}).map((t,i)=>e.jsx(z,{},i))}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsx(g,{}),e.jsx(g,{})]})]}):a?e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-5 gap-4",children:[e.jsx(r,{title:"Total Geral",value:s(a.totalGeral),subtitle:`${s(a.totalNoMes)} no mês`,icon:e.jsx(N,{size:20}),iconBg:"bg-[#db6f57]/10 text-[#db6f57] dark:bg-[#E07A62]/10 dark:text-[#E07A62]"}),e.jsx(r,{title:"Concluídos",value:s(a.concluidos),subtitle:n(a.taxaConclusao),icon:e.jsx(E,{size:20}),iconBg:"bg-[#4f6f64]/10 text-[#4f6f64] dark:bg-[#6B8F82]/10 dark:text-[#6B8F82]"}),e.jsx(r,{title:"Cancelados",value:s(a.cancelados),subtitle:n(a.taxaCancelamento),icon:e.jsx(D,{size:20}),iconBg:"bg-red-500/10 text-red-500"}),e.jsx(r,{title:"Pendentes",value:s(a.pendentes),icon:e.jsx(P,{size:20}),iconBg:"bg-amber-500/10 text-amber-600"}),e.jsx(r,{title:"Não Compareceu",value:s(a.naoCompareceu),subtitle:n(a.taxaNoShow),icon:e.jsx(T,{size:20}),iconBg:"bg-violet-500/10 text-violet-500"})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[a.evolucaoMensal.length>0&&e.jsx(A,{title:"Evolução Mensal",labels:a.evolucaoMensal.map(t=>w(t.mes)),datasets:[{label:"Total",data:a.evolucaoMensal.map(t=>t.total),color:"primary"},{label:"Concluídos",data:a.evolucaoMensal.map(t=>t.concluidos),color:"secondary"}]}),a.porOrganizacao.length>0&&e.jsx(S,{title:"Top Organizações",labels:a.porOrganizacao.slice(0,10).map(t=>t.nomeFantasia),datasets:[{label:"Concluídos",data:a.porOrganizacao.slice(0,10).map(t=>t.concluidos),color:"secondary"},{label:"Cancelados",data:a.porOrganizacao.slice(0,10).map(t=>t.cancelados),color:"primary"}],stacked:!0})]}),a.porOrganizacao.length>0&&e.jsx(h,{children:e.jsxs(b,{children:[e.jsx("h3",{className:"text-sm font-semibold text-[#2a2420] dark:text-[#F5F0EB] mb-4",children:"Por Organização"}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full text-sm",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b border-[#d8ccc4] dark:border-[#2D2925]",children:[e.jsx("th",{className:"text-left py-2 px-3 text-xs font-semibold uppercase tracking-wider text-[#6b5d57] dark:text-[#7A716A]",children:"Organização"}),e.jsx("th",{className:"text-right py-2 px-3 text-xs font-semibold uppercase tracking-wider text-[#6b5d57] dark:text-[#7A716A]",children:"Total"}),e.jsx("th",{className:"text-right py-2 px-3 text-xs font-semibold uppercase tracking-wider text-[#6b5d57] dark:text-[#7A716A]",children:"Concluídos"}),e.jsx("th",{className:"text-right py-2 px-3 text-xs font-semibold uppercase tracking-wider text-[#6b5d57] dark:text-[#7A716A]",children:"Cancelados"}),e.jsx("th",{className:"text-right py-2 px-3 text-xs font-semibold uppercase tracking-wider text-[#6b5d57] dark:text-[#7A716A]",children:"Pendentes"})]})}),e.jsx("tbody",{children:a.porOrganizacao.map(t=>e.jsxs("tr",{className:"border-b border-[#d8ccc4]/30 dark:border-[#2D2925]/30 hover:bg-[#faf8f6] dark:hover:bg-[#2D2925]/30",children:[e.jsx("td",{className:"py-2.5 px-3 font-medium text-[#2a2420] dark:text-[#F5F0EB]",children:t.nomeFantasia}),e.jsx("td",{className:"py-2.5 px-3 text-right text-[#2a2420] dark:text-[#F5F0EB]",children:s(t.total)}),e.jsx("td",{className:"py-2.5 px-3 text-right text-[#4f6f64] dark:text-[#6B8F82]",children:s(t.concluidos)}),e.jsx("td",{className:"py-2.5 px-3 text-right text-red-500",children:s(t.cancelados)}),e.jsx("td",{className:"py-2.5 px-3 text-right text-amber-600 dark:text-amber-400",children:s(t.pendentes)})]},t.organizacaoId))})]})})]})})]}):null}export{$ as Agendamentos};
