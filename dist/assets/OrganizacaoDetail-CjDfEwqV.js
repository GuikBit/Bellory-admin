import{c as f,j as e,k as h,l as B,b as z,r as C,B as E,C as u,U as v,D as S,f as w,g as N,X as M,h as k}from"./index-DUsq_Riq.js";import{a as P}from"./useOrganizacoes-E7QCFl7S.js";import{M as D,a as l,b as o}from"./Card-BR_6SfcG.js";import{B as I}from"./Badge-CxxU2TNm.js";import{B as A}from"./Button-BTmVmhXi.js";import{M as i}from"./MetricCard-Q9wNb3UI.js";import{S as $}from"./StatusIndicator-BfQhrqZ4.js";import{c as g,b as y,f as n,a as x}from"./format-EFLfV7xb.js";import{C as R}from"./circle-alert-BX6FP1Jg.js";import{A as T}from"./arrow-left-CZk9JZJZ.js";import{M as O}from"./mail-BaWz-xRm.js";import{C as _}from"./check-BnZWOmo9.js";const L=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],U=f("globe",L);const W=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],G=f("phone",W);const H=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],J=f("user",H),X={primary:"bg-[#db6f57] dark:bg-[#E07A62]",success:"bg-[#4f6f64] dark:bg-[#6B8F82]",warning:"bg-amber-500",danger:"bg-red-500"};function b({value:d,max:r,label:a,showValues:m=!0,className:p,color:t="primary"}){const c=r>0?Math.min(d/r*100,100):0,j=c>=90?"danger":c>=70?"warning":t;return e.jsxs("div",{className:h("w-full",p),children:[(a||m)&&e.jsxs("div",{className:"flex items-center justify-between mb-1.5",children:[a&&e.jsx("span",{className:"text-xs font-medium text-[#6b5d57] dark:text-[#B8AEA4]",children:a}),m&&e.jsxs("span",{className:"text-xs text-[#6b5d57] dark:text-[#7A716A]",children:[d.toLocaleString("pt-BR")," / ",r.toLocaleString("pt-BR")]})]}),e.jsx("div",{className:"h-2 rounded-full bg-[#d8ccc4]/30 dark:bg-[#2D2925] overflow-hidden",children:e.jsx("div",{className:h("h-full rounded-full transition-all duration-500",X[j]),style:{width:`${c}%`}})})]})}function re(){const{id:d}=B(),r=z(),{data:a,isLoading:m,error:p}=P(Number(d)),[t,c]=C.useState("info");if(m)return e.jsx("div",{className:"space-y-6",children:e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:Array.from({length:4}).map((s,F)=>e.jsx(D,{},F))})});if(p||!a)return e.jsxs("div",{className:"flex flex-col items-center justify-center py-20",children:[e.jsx(R,{size:48,className:"text-red-400 mb-4"}),e.jsx("h3",{className:"text-lg font-semibold text-[#2a2420] dark:text-[#F5F0EB] mb-2",children:"Organização não encontrada"}),e.jsx(A,{variant:"outline",onClick:()=>r("/organizacoes"),children:"Voltar"})]});const j=[{key:"info",label:"Informações"},{key:"metricas",label:"Métricas"},{key:"plano",label:"Plano"},{key:"instancias",label:"Instâncias"}];return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(A,{variant:"ghost",size:"sm",onClick:()=>r("/organizacoes"),children:e.jsx(T,{size:18})}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("h1",{className:"text-xl font-bold text-[#2a2420] dark:text-[#F5F0EB]",children:a.nomeFantasia}),e.jsx(I,{variant:a.ativo?"success":"danger",children:a.ativo?"Ativo":"Inativo"})]}),e.jsxs("p",{className:"text-sm text-[#6b5d57] dark:text-[#7A716A]",children:[a.razaoSocial," - ",a.cnpj]})]})]}),e.jsx("div",{className:"flex gap-1 border-b border-[#d8ccc4] dark:border-[#2D2925] overflow-x-auto",children:j.map(s=>e.jsx("button",{onClick:()=>c(s.key),className:h("px-4 py-2.5 text-sm font-medium whitespace-nowrap border-b-2 transition-colors -mb-px",t===s.key?"border-[#db6f57] text-[#db6f57] dark:border-[#E07A62] dark:text-[#E07A62]":"border-transparent text-[#6b5d57] dark:text-[#7A716A] hover:text-[#2a2420] dark:hover:text-[#F5F0EB]"),children:s.label},s.key))}),t==="info"&&e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsx(l,{children:e.jsxs(o,{children:[e.jsxs("h3",{className:"text-sm font-semibold text-[#2a2420] dark:text-[#F5F0EB] mb-4 flex items-center gap-2",children:[e.jsx(E,{size:16})," Dados da Organização"]}),e.jsx("dl",{className:"space-y-3",children:[{label:"Nome Fantasia",value:a.nomeFantasia},{label:"Razão Social",value:a.razaoSocial},{label:"CNPJ",value:a.cnpj},{label:"Email",value:a.emailPrincipal,icon:e.jsx(O,{size:14})},{label:"Telefone",value:g(a.telefone1),icon:e.jsx(G,{size:14})},{label:"WhatsApp",value:a.whatsapp?g(a.whatsapp):"-"},{label:"Slug",value:a.slug,icon:e.jsx(U,{size:14})},{label:"Cadastro",value:y(a.dtCadastro)},{label:"Última atualização",value:y(a.dtAtualizacao)}].map(s=>e.jsxs("div",{className:"flex items-start justify-between py-1.5 border-b border-[#d8ccc4]/30 dark:border-[#2D2925]/30 last:border-0",children:[e.jsxs("dt",{className:"text-xs text-[#6b5d57] dark:text-[#7A716A] flex items-center gap-1.5",children:[s.icon," ",s.label]}),e.jsx("dd",{className:"text-sm font-medium text-[#2a2420] dark:text-[#F5F0EB] text-right",children:s.value})]},s.label))})]})}),e.jsx(l,{children:e.jsxs(o,{children:[e.jsxs("h3",{className:"text-sm font-semibold text-[#2a2420] dark:text-[#F5F0EB] mb-4 flex items-center gap-2",children:[e.jsx(J,{size:16})," Responsável"]}),e.jsx("dl",{className:"space-y-3",children:[{label:"Nome",value:a.responsavelNome},{label:"Email",value:a.responsavelEmail},{label:"Telefone",value:a.responsavelTelefone?g(a.responsavelTelefone):"-"}].map(s=>e.jsxs("div",{className:"flex items-start justify-between py-1.5 border-b border-[#d8ccc4]/30 dark:border-[#2D2925]/30 last:border-0",children:[e.jsx("dt",{className:"text-xs text-[#6b5d57] dark:text-[#7A716A]",children:s.label}),e.jsx("dd",{className:"text-sm font-medium text-[#2a2420] dark:text-[#F5F0EB]",children:s.value})]},s.label))})]})})]}),t==="metricas"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsx(i,{title:"Agendamentos",value:n(a.metricas.totalAgendamentos),subtitle:`${a.metricas.agendamentosNoMes} no mês`,icon:e.jsx(u,{size:20}),iconBg:"bg-[#db6f57]/10 text-[#db6f57] dark:bg-[#E07A62]/10 dark:text-[#E07A62]"}),e.jsx(i,{title:"Clientes",value:n(a.metricas.totalClientes),subtitle:`${a.metricas.clientesAtivos} ativos`,icon:e.jsx(v,{size:20}),iconBg:"bg-[#4f6f64]/10 text-[#4f6f64] dark:bg-[#6B8F82]/10 dark:text-[#6B8F82]"}),e.jsx(i,{title:"Funcionários",value:n(a.metricas.totalFuncionarios),subtitle:`${a.metricas.funcionariosAtivos} ativos`,icon:e.jsx(v,{size:20}),iconBg:"bg-violet-500/10 text-violet-500"}),e.jsx(i,{title:"Faturamento",value:x(a.metricas.faturamentoTotal),subtitle:`${x(a.metricas.faturamentoMes)} no mês`,icon:e.jsx(S,{size:20}),iconBg:"bg-emerald-500/10 text-emerald-600"})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:[e.jsx(i,{title:"Serviços",value:n(a.metricas.totalServicos),subtitle:`${a.metricas.servicosAtivos} ativos`,icon:e.jsx(w,{size:20})}),e.jsx(i,{title:"Cobranças Pagas",value:n(a.metricas.cobrancasPagas),subtitle:`${a.metricas.cobrancasPendentes} pendentes`,icon:e.jsx(N,{size:20})}),e.jsx(i,{title:"Concluídos",value:n(a.metricas.agendamentosConcluidos),subtitle:`${a.metricas.agendamentosCancelados} cancelados`,icon:e.jsx(u,{size:20}),iconBg:"bg-[#4f6f64]/10 text-[#4f6f64] dark:bg-[#6B8F82]/10 dark:text-[#6B8F82]"})]}),a.limites&&e.jsx(l,{children:e.jsxs(o,{children:[e.jsx("h3",{className:"text-sm font-semibold text-[#2a2420] dark:text-[#F5F0EB] mb-4",children:"Uso dos Limites"}),e.jsxs("div",{className:"space-y-4",children:[e.jsx(b,{label:"Agendamentos no mês",value:a.metricas.agendamentosNoMes,max:a.limites.maxAgendamentosMes}),e.jsx(b,{label:"Usuários",value:a.metricas.totalFuncionarios,max:a.limites.maxUsuarios,color:"primary"}),e.jsx(b,{label:"Clientes",value:a.metricas.totalClientes,max:a.limites.maxClientes,color:"primary"}),e.jsx(b,{label:"Serviços",value:a.metricas.totalServicos,max:a.limites.maxServicos,color:"primary"})]})]})})]}),t==="plano"&&e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsx(l,{children:e.jsxs(o,{children:[e.jsx("h3",{className:"text-sm font-semibold text-[#2a2420] dark:text-[#F5F0EB] mb-4",children:"Plano Atual"}),e.jsxs("div",{className:"flex items-center gap-3 mb-4 p-4 rounded-lg bg-[#db6f57]/5 dark:bg-[#E07A62]/5 border border-[#db6f57]/20 dark:border-[#E07A62]/20",children:[e.jsx("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-[#db6f57] to-[#8b3d35] dark:from-[#E07A62] dark:to-[#A8524A] flex items-center justify-center",children:e.jsx(N,{size:20,className:"text-white"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-lg font-bold text-[#2a2420] dark:text-[#F5F0EB]",children:a.plano.nome}),e.jsxs("p",{className:"text-sm text-[#6b5d57] dark:text-[#B8AEA4]",children:[x(a.plano.precoMensal),"/mês · ",x(a.plano.precoAnual),"/ano"]})]})]})]})}),e.jsx(l,{children:e.jsxs(o,{children:[e.jsx("h3",{className:"text-sm font-semibold text-[#2a2420] dark:text-[#F5F0EB] mb-4",children:"Recursos do Plano"}),e.jsx("div",{className:"space-y-2.5",children:[{label:"Agendamento Online",enabled:a.limites.permiteAgendamentoOnline},{label:"WhatsApp",enabled:a.limites.permiteWhatsapp},{label:"Site",enabled:a.limites.permiteSite},{label:"E-commerce",enabled:a.limites.permiteEcommerce},{label:"Relatórios Avançados",enabled:a.limites.permiteRelatoriosAvancados},{label:"API",enabled:a.limites.permiteApi},{label:"Integração Personalizada",enabled:a.limites.permiteIntegracaoPersonalizada},{label:"Suporte Prioritário",enabled:a.limites.suportePrioritario},{label:"Suporte 24/7",enabled:a.limites.suporte24x7}].map(s=>e.jsxs("div",{className:"flex items-center justify-between py-1",children:[e.jsx("span",{className:"text-sm text-[#2a2420] dark:text-[#F5F0EB]",children:s.label}),s.enabled?e.jsx(_,{size:16,className:"text-[#4f6f64] dark:text-[#6B8F82]"}):e.jsx(M,{size:16,className:"text-[#d8ccc4] dark:text-[#2D2925]"})]},s.label))})]})})]}),t==="instancias"&&e.jsx("div",{className:"space-y-4",children:a.instancias.length===0?e.jsx(l,{className:"p-12",children:e.jsxs("div",{className:"text-center",children:[e.jsx(k,{size:40,className:"mx-auto text-[#d8ccc4] dark:text-[#2D2925] mb-3"}),e.jsx("p",{className:"text-sm text-[#6b5d57] dark:text-[#B8AEA4]",children:"Nenhuma instância configurada"})]})}):a.instancias.map(s=>e.jsx(l,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-lg bg-[#4f6f64]/10 dark:bg-[#6B8F82]/10 flex items-center justify-center",children:e.jsx(k,{size:18,className:"text-[#4f6f64] dark:text-[#6B8F82]"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-[#2a2420] dark:text-[#F5F0EB]",children:s.instanceName}),e.jsxs("p",{className:"text-xs text-[#6b5d57] dark:text-[#7A716A]",children:["ID: ",s.instanceId]})]})]}),e.jsx($,{status:s.status==="CONNECTED"?"connected":"disconnected"})]})},s.id))})]})}export{re as OrganizacaoDetail};
