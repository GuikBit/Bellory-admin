import{a as k,j as t,D as v,g as y}from"./index-DUsq_Riq.js";import{a as C}from"./useMetricas-Ba6cMwWC.js";import{M as o,T as N}from"./MetricCard-Q9wNb3UI.js";import{a as g,c as A,b as u,M as F,C as B}from"./Card-BR_6SfcG.js";import{L as M,g as z,a as w}from"./ChartSetup-BuQPf8RP.js";import{B as E}from"./Badge-CxxU2TNm.js";import{a as r,f as i,e as P}from"./format-EFLfV7xb.js";import{R as T}from"./receipt-DCKwk-TX.js";function D({title:e,labels:d,datasets:n,height:a=300}){const{theme:l}=k(),p=l==="dark",c=z(p),h=w(p),b={primary:c.primary,secondary:c.secondary},f={labels:d,datasets:n.map(x=>{const s=b[x.color||"primary"];return{label:x.label,data:x.data,borderColor:s,backgroundColor:j=>{const m=j.chart.ctx.createLinearGradient(0,0,0,a);return m.addColorStop(0,s+"40"),m.addColorStop(1,s+"05"),m},fill:!0,tension:.4,pointRadius:0,pointHoverRadius:5,pointBackgroundColor:s,pointBorderColor:c.background,pointBorderWidth:2}})};return t.jsxs(g,{children:[t.jsx(A,{children:t.jsx("h3",{className:"text-sm font-semibold text-[#2a2420] dark:text-[#F5F0EB]",children:e})}),t.jsx(u,{children:t.jsx("div",{style:{height:a},children:t.jsx(M,{data:f,options:h})})})]})}function V(){const{data:e,isLoading:d}=C();if(d)return t.jsxs("div",{className:"space-y-6",children:[t.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:Array.from({length:4}).map((a,l)=>t.jsx(F,{},l))}),t.jsx(B,{})]});if(!e)return null;const n={gratuito:"default",basico:"info",plus:"plan",premium:"success"};return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[t.jsx(o,{title:"Faturamento Total",value:r(e.faturamentoTotalGeral),icon:t.jsx(v,{size:20}),iconBg:"bg-emerald-500/10 text-emerald-600 dark:bg-emerald-400/10 dark:text-emerald-400"}),t.jsx(o,{title:"Mês Atual",value:r(e.faturamentoMesAtual),trend:{value:e.crescimentoPercentual},subtitle:"vs mês anterior",icon:t.jsx(N,{size:20}),iconBg:"bg-[#db6f57]/10 text-[#db6f57] dark:bg-[#E07A62]/10 dark:text-[#E07A62]"}),t.jsx(o,{title:"Ticket Médio",value:r(e.ticketMedio),icon:t.jsx(T,{size:20}),iconBg:"bg-violet-500/10 text-violet-500"}),t.jsx(o,{title:"Pagamentos",value:i(e.totalPagamentos),subtitle:`${i(e.pagamentosConfirmados)} confirmados`,icon:t.jsx(y,{size:20}),iconBg:"bg-[#4f6f64]/10 text-[#4f6f64] dark:bg-[#6B8F82]/10 dark:text-[#6B8F82]"})]}),e.evolucaoMensal.length>0&&t.jsx(D,{title:"Evolução do Faturamento",labels:e.evolucaoMensal.map(a=>P(a.mes)),datasets:[{label:"Faturamento (R$)",data:e.evolucaoMensal.map(a=>a.valor),color:"primary"}]}),e.porOrganizacao.length>0&&t.jsx(g,{children:t.jsxs(u,{children:[t.jsx("h3",{className:"text-sm font-semibold text-[#2a2420] dark:text-[#F5F0EB] mb-4",children:"Faturamento por Organização"}),t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"w-full text-sm",children:[t.jsx("thead",{children:t.jsxs("tr",{className:"border-b border-[#d8ccc4] dark:border-[#2D2925]",children:[t.jsx("th",{className:"text-left py-2 px-3 text-xs font-semibold uppercase tracking-wider text-[#6b5d57] dark:text-[#7A716A]",children:"Organização"}),t.jsx("th",{className:"text-left py-2 px-3 text-xs font-semibold uppercase tracking-wider text-[#6b5d57] dark:text-[#7A716A]",children:"Plano"}),t.jsx("th",{className:"text-right py-2 px-3 text-xs font-semibold uppercase tracking-wider text-[#6b5d57] dark:text-[#7A716A]",children:"Total"}),t.jsx("th",{className:"text-right py-2 px-3 text-xs font-semibold uppercase tracking-wider text-[#6b5d57] dark:text-[#7A716A]",children:"Mês"}),t.jsx("th",{className:"text-right py-2 px-3 text-xs font-semibold uppercase tracking-wider text-[#6b5d57] dark:text-[#7A716A]",children:"Pagas"}),t.jsx("th",{className:"text-right py-2 px-3 text-xs font-semibold uppercase tracking-wider text-[#6b5d57] dark:text-[#7A716A]",children:"Pendentes"})]})}),t.jsx("tbody",{children:e.porOrganizacao.map(a=>t.jsxs("tr",{className:"border-b border-[#d8ccc4]/30 dark:border-[#2D2925]/30 hover:bg-[#faf8f6] dark:hover:bg-[#2D2925]/30",children:[t.jsx("td",{className:"py-2.5 px-3 font-medium text-[#2a2420] dark:text-[#F5F0EB]",children:a.nomeFantasia}),t.jsx("td",{className:"py-2.5 px-3",children:t.jsx(E,{variant:n[a.planoCodigo]||"default",children:a.planoCodigo})}),t.jsx("td",{className:"py-2.5 px-3 text-right text-[#2a2420] dark:text-[#F5F0EB]",children:r(a.faturamentoTotal)}),t.jsx("td",{className:"py-2.5 px-3 text-right text-[#4f6f64] dark:text-[#6B8F82]",children:r(a.faturamentoMes)}),t.jsx("td",{className:"py-2.5 px-3 text-right",children:i(a.cobrancasPagas)}),t.jsx("td",{className:"py-2.5 px-3 text-right text-amber-600 dark:text-amber-400",children:i(a.cobrancasPendentes)})]},a.organizacaoId))})]})})]})})]})}export{V as Faturamento};
