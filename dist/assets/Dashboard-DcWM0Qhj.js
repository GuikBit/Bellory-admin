import{d as o,j as e,B as i,C as x,U as m,D as g,e as b,f as j,g as r,h as u}from"./index-DUsq_Riq.js";import{u as f,M as h,C as l,a as p}from"./Card-BR_6SfcG.js";import{M as a}from"./MetricCard-Q9wNb3UI.js";import{D as v}from"./DoughnutChart-cEsGJdeb.js";import{f as t,a as N}from"./format-EFLfV7xb.js";import{C as k}from"./circle-alert-BX6FP1Jg.js";import{W as C,a as y}from"./wifi-Z7t6yIO4.js";import"./ChartSetup-BuQPf8RP.js";async function A(){return(await o.get("/admin/dashboard")).data}function B(){return f({queryKey:["admin-dashboard"],queryFn:A,staleTime:300*1e3,refetchOnWindowFocus:!1})}function T(){const{data:s,isLoading:d,error:n}=B();return n?e.jsxs("div",{className:"flex flex-col items-center justify-center py-20",children:[e.jsx(k,{size:48,className:"text-red-400 mb-4"}),e.jsx("h3",{className:"text-lg font-semibold text-[#2a2420] dark:text-[#F5F0EB] mb-2",children:"Erro ao carregar dados"}),e.jsx("p",{className:"text-sm text-[#6b5d57] dark:text-[#B8AEA4]",children:"Não foi possível carregar o dashboard. Tente novamente."})]}):d?e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:Array.from({length:8}).map((F,c)=>e.jsx(h,{},c))}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsx(l,{}),e.jsx(l,{})]})]}):s?e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsx(a,{title:"Organizações",value:t(s.totalOrganizacoes),subtitle:`${s.organizacoesAtivas} ativas`,icon:e.jsx(i,{size:20}),iconBg:"bg-[#db6f57]/10 text-[#db6f57] dark:bg-[#E07A62]/10 dark:text-[#E07A62]"}),e.jsx(a,{title:"Agendamentos",value:t(s.totalAgendamentos),subtitle:"Total geral",icon:e.jsx(x,{size:20}),iconBg:"bg-[#4f6f64]/10 text-[#4f6f64] dark:bg-[#6B8F82]/10 dark:text-[#6B8F82]"}),e.jsx(a,{title:"Clientes",value:t(s.totalClientes),subtitle:"Cadastrados",icon:e.jsx(m,{size:20}),iconBg:"bg-blue-500/10 text-blue-500 dark:bg-blue-400/10 dark:text-blue-400"}),e.jsx(a,{title:"Faturamento",value:N(s.faturamentoTotal),subtitle:"Acumulado",icon:e.jsx(g,{size:20}),iconBg:"bg-emerald-500/10 text-emerald-600 dark:bg-emerald-400/10 dark:text-emerald-400"})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsx(a,{title:"Funcionários",value:t(s.totalFuncionarios),subtitle:"Total na plataforma",icon:e.jsx(b,{size:20}),iconBg:"bg-violet-500/10 text-violet-500 dark:bg-violet-400/10 dark:text-violet-400"}),e.jsx(a,{title:"Serviços",value:t(s.totalServicos),subtitle:"Cadastrados",icon:e.jsx(j,{size:20}),iconBg:"bg-amber-500/10 text-amber-600 dark:bg-amber-400/10 dark:text-amber-400"}),e.jsx(a,{title:"Cobranças",value:t(s.totalCobrancas),subtitle:`${s.cobrancasPendentes} pendentes`,icon:e.jsx(r,{size:20}),iconBg:"bg-rose-500/10 text-rose-500 dark:bg-rose-400/10 dark:text-rose-400"}),e.jsx(a,{title:"Instâncias",value:t(s.totalInstancias),subtitle:`${s.instanciasConectadas} conectadas`,icon:e.jsx(u,{size:20}),iconBg:"bg-cyan-500/10 text-cyan-600 dark:bg-cyan-400/10 dark:text-cyan-400"})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsx(v,{title:"Distribuição por Plano",labels:["Gratuito","Básico","Plus","Premium"],data:[s.distribuicaoPlanos.gratuito,s.distribuicaoPlanos.basico,s.distribuicaoPlanos.plus,s.distribuicaoPlanos.premium]}),e.jsx(p,{children:e.jsxs("div",{className:"p-6",children:[e.jsx("h3",{className:"text-sm font-semibold text-[#2a2420] dark:text-[#F5F0EB] mb-6",children:"Visão Rápida"}),e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-lg bg-[#4f6f64]/10 dark:bg-[#6B8F82]/10 flex items-center justify-center",children:e.jsx(i,{size:18,className:"text-[#4f6f64] dark:text-[#6B8F82]"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-[#2a2420] dark:text-[#F5F0EB]",children:"Organizações Ativas"}),e.jsxs("p",{className:"text-xs text-[#6b5d57] dark:text-[#7A716A]",children:[s.organizacoesInativas," inativas"]})]})]}),e.jsx("span",{className:"text-lg font-bold text-[#4f6f64] dark:text-[#6B8F82]",children:s.organizacoesAtivas})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-lg bg-emerald-500/10 flex items-center justify-center",children:e.jsx(C,{size:18,className:"text-emerald-500"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-[#2a2420] dark:text-[#F5F0EB]",children:"Instâncias Conectadas"}),e.jsx("p",{className:"text-xs text-[#6b5d57] dark:text-[#7A716A]",children:"WhatsApp/Bot online"})]})]}),e.jsx("span",{className:"text-lg font-bold text-emerald-500",children:s.instanciasConectadas})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-lg bg-red-500/10 flex items-center justify-center",children:e.jsx(y,{size:18,className:"text-red-500"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-[#2a2420] dark:text-[#F5F0EB]",children:"Instâncias Desconectadas"}),e.jsx("p",{className:"text-xs text-[#6b5d57] dark:text-[#7A716A]",children:"Requerem atenção"})]})]}),e.jsx("span",{className:"text-lg font-bold text-red-500",children:s.instanciasDesconectadas})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-lg bg-[#db6f57]/10 dark:bg-[#E07A62]/10 flex items-center justify-center",children:e.jsx(r,{size:18,className:"text-[#db6f57] dark:text-[#E07A62]"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-[#2a2420] dark:text-[#F5F0EB]",children:"Cobranças Pagas"}),e.jsxs("p",{className:"text-xs text-[#6b5d57] dark:text-[#7A716A]",children:[s.cobrancasPendentes," pendentes"]})]})]}),e.jsx("span",{className:"text-lg font-bold text-[#db6f57] dark:text-[#E07A62]",children:t(s.cobrancasPagas)})]})]})]})})]})]}):null}export{T as Dashboard};
