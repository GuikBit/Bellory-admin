import{c,d as t,m as l,z as r,j as s,o as u}from"./index-DUsq_Riq.js";import{u as m}from"./Card-BR_6SfcG.js";import{u as i}from"./shield-Dz8rMSm5.js";import{C as d}from"./check-BnZWOmo9.js";const x=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],h=c("camera",x);const g=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]],f=c("ellipsis-vertical",g);const b=[["path",{d:"M2.586 17.414A2 2 0 0 0 2 18.828V21a1 1 0 0 0 1 1h3a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h1a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h.172a2 2 0 0 0 1.414-.586l.814-.814a6.5 6.5 0 1 0-4-4z",key:"1s6t7t"}],["circle",{cx:"16.5",cy:"7.5",r:".5",fill:"currentColor",key:"w0ekpg"}]],R=c("key-round",b);const y=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],q=c("message-square",y);const v=[["path",{d:"M12 19v3",key:"npa21l"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["rect",{x:"9",y:"2",width:"6",height:"13",rx:"3",key:"s6n7sd"}]],E=c("mic",v);const N=[["path",{d:"m16 6-8.414 8.586a2 2 0 0 0 2.829 2.829l8.414-8.586a4 4 0 1 0-5.657-5.657l-8.379 8.551a6 6 0 1 0 8.485 8.485l8.379-8.551",key:"1miecu"}]],w=c("paperclip",N);async function A(a){return(await t.get("/admin/templates",{params:a})).data.dados}async function k(a){return(await t.get(`/admin/templates/${a}`)).data.dados}async function T(a){return(await t.post("/admin/templates",a)).data.dados}async function j(a,e){return(await t.put(`/admin/templates/${a}`,e)).data.dados}async function _(a){await t.delete(`/admin/templates/${a}`)}async function S(a){return(await t.patch(`/admin/templates/${a}/ativar`)).data.dados}async function C(a){return(await t.patch(`/admin/templates/${a}/padrao`)).data.dados}async function M(a,e){return(await t.post(`/admin/templates/${a}/preview`,e||{})).data.dados}const o="admin-templates";function F(a,e){return m({queryKey:[o,{tipo:a,categoria:e}],queryFn:()=>A({tipo:a,categoria:e}),staleTime:300*1e3,refetchOnWindowFocus:!1})}function L(a){return m({queryKey:[o,a],queryFn:()=>k(a),staleTime:300*1e3,refetchOnWindowFocus:!1,enabled:!!a})}function I(){const a=l();return i({mutationFn:e=>T(e),onSuccess:()=>{a.invalidateQueries({queryKey:[o]}),r.success("Template criado com sucesso")},onError:e=>{r.error(e.response?.data?.message||"Erro ao criar template")}})}function D(){const a=l();return i({mutationFn:({id:e,data:n})=>j(e,n),onSuccess:()=>{a.invalidateQueries({queryKey:[o]}),r.success("Template atualizado com sucesso")},onError:e=>{r.error(e.response?.data?.message||"Erro ao atualizar template")}})}function V(){const a=l();return i({mutationFn:e=>_(e),onSuccess:()=>{a.invalidateQueries({queryKey:[o]}),r.success("Template desativado com sucesso")},onError:e=>{r.error(e.response?.data?.message||"Erro ao desativar template")}})}function H(){const a=l();return i({mutationFn:e=>S(e),onSuccess:()=>{a.invalidateQueries({queryKey:[o]}),r.success("Template ativado com sucesso")},onError:e=>{r.error(e.response?.data?.message||"Erro ao ativar template")}})}function K(){const a=l();return i({mutationFn:e=>C(e),onSuccess:()=>{a.invalidateQueries({queryKey:[o]}),r.success("Template marcado como padrão")},onError:e=>{r.error(e.response?.data?.message||"Erro ao marcar como padrão")}})}function W(){return i({mutationFn:({id:a,data:e})=>M(a,e),onError:a=>{r.error(a.response?.data?.message||"Erro ao gerar preview")}})}function B(a){let e=a.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;");return e=e.replace(/\*([^*]+)\*/g,"<strong>$1</strong>"),e=e.replace(/_([^_]+)_/g,"<em>$1</em>"),e=e.replace(/~([^~]+)~/g,"<del>$1</del>"),e=e.replace(/\n/g,"<br/>"),e}function Q({text:a,senderName:e="Bellory"}){const n=new Date,p=`${n.getHours().toString().padStart(2,"0")}:${n.getMinutes().toString().padStart(2,"0")}`;return s.jsxs("div",{className:"rounded-xl overflow-hidden border border-[#d8ccc4] dark:border-[#2D2925] max-w-[360px] mx-auto",children:[s.jsxs("div",{className:"bg-[#075e54] dark:bg-[#1f2c34] px-3 py-2.5 flex items-center gap-3",children:[s.jsx(u,{size:20,className:"text-white/80"}),s.jsx("div",{className:"w-8 h-8 rounded-full bg-[#25d366] flex items-center justify-center",children:s.jsx("span",{className:"text-white text-xs font-bold",children:e.charAt(0)})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-white text-sm font-medium leading-tight",children:e}),s.jsx("p",{className:"text-white/60 text-[10px]",children:"online"})]}),s.jsx(f,{size:18,className:"text-white/70"})]}),s.jsx("div",{className:"p-3 min-h-[200px] max-h-[400px] overflow-y-auto",style:{backgroundColor:"#e5ddd5"},children:s.jsx("div",{className:"flex justify-end",children:s.jsxs("div",{className:"relative max-w-[85%] rounded-lg px-3 py-2 text-[13px] leading-[1.4] shadow-sm",style:{backgroundColor:"#dcf8c6"},children:[s.jsx("div",{className:"text-[#303030] break-words [&_strong]:font-semibold [&_em]:italic [&_del]:line-through",dangerouslySetInnerHTML:{__html:B(a)}}),s.jsxs("div",{className:"flex items-center justify-end gap-1 mt-1 -mb-0.5",children:[s.jsx("span",{className:"text-[10px] text-[#667781]",children:p}),s.jsx(d,{size:12,className:"text-[#53bdeb]"}),s.jsx(d,{size:12,className:"text-[#53bdeb] -ml-2"})]})]})})}),s.jsxs("div",{className:"bg-[#f0f0f0] dark:bg-[#1f2c34] px-2 py-2 flex items-center gap-2",children:[s.jsx(w,{size:20,className:"text-[#54656f] shrink-0"}),s.jsx("div",{className:"flex-1 bg-white dark:bg-[#2a3942] rounded-full px-3 py-1.5",children:s.jsx("span",{className:"text-[#667781] text-sm",children:"Mensagem..."})}),s.jsx(h,{size:20,className:"text-[#54656f] shrink-0"}),s.jsx(E,{size:20,className:"text-[#54656f] shrink-0"})]})]})}function G({html:a,assunto:e}){return s.jsxs("div",{className:"rounded-xl overflow-hidden border border-[#d8ccc4] dark:border-[#2D2925] max-w-[480px] mx-auto",children:[s.jsxs("div",{className:"bg-[#faf8f6] dark:bg-[#1A1715] px-4 py-3 border-b border-[#d8ccc4] dark:border-[#2D2925]",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx("div",{className:"w-8 h-8 rounded-full bg-gradient-to-br from-[#db6f57] to-[#8b3d35] flex items-center justify-center",children:s.jsx("span",{className:"text-white text-xs font-bold",children:"B"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-[#2a2420] dark:text-[#F5F0EB]",children:"Bellory"}),s.jsx("p",{className:"text-[10px] text-[#6b5d57] dark:text-[#7A716A]",children:"noreply@bellory.com.br"})]})]}),e&&s.jsx("p",{className:"text-sm font-semibold text-[#2a2420] dark:text-[#F5F0EB] pl-10",children:e})]}),s.jsx("div",{className:"bg-white dark:bg-[#0D0B0A] min-h-[200px] max-h-[400px] overflow-y-auto",children:s.jsx("iframe",{srcDoc:a,sandbox:"allow-same-origin",className:"w-full min-h-[200px] border-0",style:{height:"300px"},title:"Email preview"})})]})}const U={WHATSAPP:"WhatsApp",EMAIL:"E-mail"},J={CONFIRMACAO:"Confirmação",LEMBRETE:"Lembrete",BEM_VINDO:"Boas-vindas",RESET_SENHA:"Reset de Senha",COBRANCA_AVISO:"Cobrança - Aviso",COBRANCA_LEMBRETE:"Cobrança - Lembrete"},Y={WHATSAPP:{bg:"bg-green-100",darkBg:"dark:bg-green-900/30",text:"text-green-700",darkText:"dark:text-green-400"},EMAIL:{bg:"bg-blue-100",darkBg:"dark:bg-blue-900/30",text:"text-blue-700",darkText:"dark:text-blue-400"}},X=["whatsapp-confirmacao","whatsapp-lembrete","email-bem-vindo","email-reset-senha","email-cobranca-aviso","email-cobranca-lembrete"],Z=[{nome:"nome_cliente",descricao:"Nome do cliente",exemplo:"João Silva"},{nome:"data_agendamento",descricao:"Data do agendamento",exemplo:"15/03/2026"},{nome:"hora_agendamento",descricao:"Horário do agendamento",exemplo:"14:30"},{nome:"servico",descricao:"Nome do serviço",exemplo:"Corte Masculino"},{nome:"profissional",descricao:"Nome do profissional",exemplo:"Maria Santos"},{nome:"local",descricao:"Endereço do estabelecimento",exemplo:"Rua das Flores, 123"},{nome:"valor",descricao:"Valor do serviço",exemplo:"R$ 50,00"},{nome:"nome_empresa",descricao:"Nome da empresa",exemplo:"Barbearia Top"}],ee=[{nome:"nomeCliente",descricao:"Nome do cliente",exemplo:"João Silva"},{nome:"nomeOrganizacao",descricao:"Nome da organização",exemplo:"Barbearia Top"},{nome:"valorCobranca",descricao:"Valor da cobrança",exemplo:"R$ 150,00"},{nome:"dataVencimento",descricao:"Data de vencimento",exemplo:"15/04/2026"},{nome:"descricaoCobranca",descricao:"Descrição da cobrança",exemplo:"Plano Premium - Mensal"},{nome:"numeroCobranca",descricao:"Número da cobrança",exemplo:"COB-2026-001"},{nome:"diasAtraso",descricao:"Dias em atraso",exemplo:"5"}];export{J as C,G as E,R as K,q as M,X as S,U as T,Z as V,Q as W,V as a,H as b,K as c,W as d,Y as e,L as f,I as g,D as h,ee as i,F as u};
